# 插件索引

::: warning 待更新
后面如果开发插件贡献者比较多，可能会开一个插件仓库，以及快捷管理插件的插件。<br>要贡献可以看标题栏`更多`
:::
目前只有 Dogxi 写的一些插件:<br>
https://www.123865.com/s/sclKjv-HUsBH<br>
也可以群里群文件找找｜看标题栏 `更多`

## 📖 框架助手

下面#开头的都是消息直接发给 bot 就行

```
#助手
```

```
框架助手 | Kivibot
----------------
#发好友 <QQ> <内容>
#发群聊 <群号> <内容>
#发送 <内容> (当前群)
#改头像 <图片>
#取头像 <QQ>
#改昵称 <昵称>
#改签名 <签名>
#加好友 <QQ> (限同一群)
#删好友 <QQ>
#拉黑 <QQ>
#退群 <群号>
----------------
#取图名 <图片>
#取图链 <图片>
#取图片 <链接>
#取md5 <图片>
#取时间戳 <时间>
#我的头像
#伪造 <艾特> <内容>
#伪造2 <QQ> <内容>
#伪造3 <QQ> <内容> <时间>
#伪造4 <QQ> <内容> <时间戳>
----------------
/时间格式为 年/月/日-时:分:秒
/伪造除了3均可叠加(空格隔开)
```

## 🤖 自定义

### 📝 基础命令

| 命令     | 说明            | 示例               |
| -------- | --------------- | ------------------ |
| !on      | 🟢 开启插件     | !on                |
| !off     | 🔴 关闭插件     | !off               |
| !add     | ➕ 添加回复     | !add 你好 世界     |
| !del     | ➖ 删除回复     | !del 你好          |
| !list    | 📋 查看回复列表 | !list              |
| !mode    | 🔄 设置匹配模式 | !mode 你好 0       |
| !disable | 🚫 禁用群聊     | !disable 123456    |
| !enable  | ✅ 启用群聊     | !enable 123456     |
| !test    | 🧪 测试变量     | !test [at(123456)] |
| !help    | 🏠 命令帮助     | !help              |

### 💡 添加回复指南

#### 1️⃣ 文字回复

```bash
!add 触发词 回复内容 [模式]
# 模式: 0-模糊匹配(默认) 1-精确匹配
```

### 下面都是 ai 生成的了，可以不看，自行使用，很容易上手

配上现有回复变量大合集 ⬇️(使用即可
| 变量 | 简介 | | 变量 | 简介 |
| ---------------- | -------------------- | --- | ---------------------- | -------------------------------------------------------------------- |
| \[at(QQ 号)] | 艾特 | | \[mute(qq 号:分钟)] | 禁言 |
| \[av(QQ 号) ] | 头像 | | xx | xxxxxx |
| \[poke(QQ 号)] | 戳一戳 | | [cite] | 引用回复 |
| \[name] | 发送者昵称 | | \[reg(reg)] | 根据正则取消息内容 |
| [uin] | 发送者 QQ 号 | | \[num(1-88)] | 随机整数 |
| [atqq] | 消息中艾特对象的 QQ 号 | | \[one(吃，摆，睡)] | 随机选择(，或｜分割) |
| \[msg(num)] | 消息去除前 num 字符 | | [url] | 取消息中的第一个链接 |
| \[word(num)] | 根据空格分割消息内容 | | | |
| | | | | |
| \[img(图片地址)] | 图片(file/链接) | | \[get(链接)] | get 请求(无[return]变量则全部返回) |
| \[record(链接)] | 语音 | | \[post(链接)] | post 请求 |
| \[video(链接)] | 视频 | | \[return(data1.xx.xx)] | get 请求后的返回数据(json)data1 是第一个 get 得到的数据,还可以有 data2... |

更多变量待补充...

可以 `!test xxx` 测试看看有什么效果(仅可测试无需回复的变量)

##### 示例:

```bash
!test 你好呀~ [name]
!test [at([uin])],今天也要元气满满哦!
!test 一言:[get(https://v1.hitokoto.cn/)][return(data1.hitokoto)]
!test bing每日一图:[img(https://dailybing.com/api/v1)]
!test 我戳死你~[poke(uin)][poke(uin)][poke(uin)][poke(uin)]
```

#### 2️⃣ 图片回复

```bash
# 发送图片作为触发
!add [图片] 这是回复内容

# 发送图片作为回复
!add 触发词 [图片]
```

### 🎯 变量系统(英文方框)

#### 👤 用户相关

| 变量        | 说明                    | 示例        |
| ----------- | ----------------------- | ----------- |
| [name]      | 👤 发送者昵称           | [name]      |
| [uin]       | 🆔 发送者 QQ            | [uin]       |
| [atqq]      | 📢 发送消息艾特的 qq 号 | [atqq]      |
| [av(qq 号)] | 🖼️ 发送者头像           | [av(10001)] |

#### 🎲 随机变量

| 变量  | 说明        | 示例                          |
| ----- | ----------- | ----------------------------- |
| [num] | 🎲 随机数   | [num(1-100)]                  |
| [one] | 🎯 随机选择 | [one(吃饭 \| 睡觉 \| 打游戏)] |

#### 🛠️ 功能变量

| 变量     | 说明        | 示例                            |
| -------- | ----------- | ------------------------------- |
| [mute]   | 🤐 禁言     | [mute(123456:10)]               |
| [poke]   | 👉 戳一戳   | [poke(123456)]                  |
| [get]    | 📡 GET 请求 | [get(https://api.com)]          |
| [return] | 📤 返回数据 | [return(data1.result.text.xxx)] |

#### 📺 媒体变量

| 变量     | 说明    | 示例               |
| -------- | ------- | ------------------ |
| [img]    | 🖼️ 图片 | [img(图片链接)]    |
| [video]  | 🎥 视频 | [video(视频链接)]  |
| [record] | 🎤 语音 | [record(音频链接)] |

### 🎯 匹配模式

#### 模糊匹配 (默认模式 0)

- 🔍 消息包含触发词即可
- 💭 适合日常对话
- 📝 例: `触发词可以在句子中间`

#### 精确匹配 (模式 1)

- ✨ 需要完全匹配触发词
- 🎯 适合精确指令
- 📝 例: `必须完全等于触发词`

### 🌟 进阶技巧

#### 1. 变量嵌套

```bash
!add 天气 [get(https://api.com/weather?city=[msg(2)])]
!add 头像 [img([av][uin])]
```

#### 2. 组合使用

```bash
!add 打招呼 [at([uin])]，[one(早上好|下午好|晚上好)]，[name]!
```

### ⚠️ 注意事项

#### 🔒 权限要求

- 添加需要管理员权限
- 群聊需要对应权限(默认全开放)

#### 📸 图片说明

- 支持本地图片和 URL
- 图片自动保存备份

#### 🎯 变量使用

- 变量区分大小写
- 支持嵌套使用
- 部分变量需要参数

### 🎮 使用小贴士

1. 善用随机回复

   ```bash
   !add 打招呼 [one(你好|嗨|在吗)]，[name]
   ```

2. 结合多个变量

   ```bash
   !add 签到 [at([uin])] 获得[num(1-100)]积分
   ```

3. API 调用示例
   ```bash
   !add 一言 [get(https://v1.hitokoto.cn/)][return(data1.hitokoto)]
   ```

### 🆘 常见问题

1. ❓ 为什么图片没反应

   - 检查图片格式是否支持
   - 确认 URL 是否可访问

2. ❓ 变量不生效

   - 检查变量名大小写
   - 确认参数格式正确

3. ❓ 匹配模式问题
   - 默认为模糊匹配
   - 需要精确触发请设置 mode 为 1

## 微群管

待更新...
